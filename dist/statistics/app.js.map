{"version":3,"sources":["/tpl/statistics/index.tsx","/tpl/common/antd/localeProvider.ts","/tpl/statistics/common/appStateStore.tsx","/tpl/statistics/routes.tsx","/tpl/statistics/page/layoutBase.tsx","/tpl/common/antd/layout.ts","/tpl/common/antd/menu.ts","/tpl/common/component/radium_style.tsx","/tpl/common/radium.ts","/tpl/statistics/common/publicData.tsx","/tpl/statistics/page/routes.tsx","/tpl/statistics/page/statistics/server/index.tsx","/tpl/common/antd/button.ts"],"names":[],"mappings":"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","file":"","sourcesContent":["import { LocaleProvider, zhCNC } from 'common/antd/localeProvider';\nimport * as moment from 'moment';\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { AppStateProvider } from './common/appStateStore';\nimport { routes } from './routes';\n\nmoment.locale('zh-cn');\n\nrender(\n    <LocaleProvider locale={zhCNC}>\n        <AppStateProvider>\n            {routes}\n        </AppStateProvider>\n    </LocaleProvider>,\n    document.getElementById('reactApp'));\n","import C from 'antd/lib/locale-provider';\nimport 'antd/lib/locale-provider/style/css';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport 'common/antd/default-style.css';\nimport 'moment/locale/zh-cn';\nexport const LocaleProvider: typeof C = require('antd/lib/locale-provider');\nexport const zhCNC: typeof zhCN = zhCN;\n","import { observable } from 'mobx';\nimport { inject, Provider } from 'mobx-react';\nimport * as React from 'react';\n\nexport class AppStateStore {\n    @observable appState: {\n        currentUser?: {\n            permissions?: string[],\n        },\n    };\n\n    constructor() {\n        this.appState = {\n            currentUser: {\n                permissions: ['guest'],\n            },\n        };\n    }\n\n}\n\nexport interface WithAppState {\n    data: AppStateStore;\n}\n\nexport class AppStateProvider extends React.Component<{}, {}> {\n    private store: AppStateStore;\n    constructor(props: any) {\n        super(props);\n        this.store = new AppStateStore();\n    }\n    render() {\n        return (\n            <Provider data={this.store}>\n                {this.props.children}\n            </Provider>\n        );\n    }\n}\n\nexport function withAppState<P>(\n    UnderlyingComponent: React.ComponentClass<P & WithAppState>\n        | React.StatelessComponent<P & WithAppState>)\n    : React.ComponentClass<P> {\n    return inject('data')(UnderlyingComponent as any);\n}\n","import * as React from 'react';\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n} from 'react-router-dom';\nimport { LayoutBase } from './page/layoutBase';\n\nexport const routes = (\n    <Router>\n        <Switch>\n            <Route path='/' component={LayoutBase} />\n        </Switch>\n    </Router>\n);\n","import { Icon } from 'common/antd/icon';\nimport { Layout } from 'common/antd/layout';\nimport { Menu } from 'common/antd/menu';\nimport { Link } from 'common/component/Link';\nimport { RadiumStyle } from 'common/component/radium_style';\nimport { Radium } from 'common/radium';\nimport * as _ from 'lodash';\nimport { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { withAppState, WithAppState } from 'statistics/common/appStateStore';\nimport { Nav, NavProps } from '../common/publicData';\nimport { routes } from './routes';\n\nconst { Header, Content, Footer } = Layout;\n\n@Radium\n@observer\nexport class LayoutBaseView extends React.Component<RouteComponentProps<any> & WithAppState> {\n\n    constructor(props: any) {\n        super(props);\n    }\n\n    render() {\n        const pathArr = this.props.location.pathname.split('/');\n        const selectedKeys = pathArr.length > 2 ? [pathArr.slice(0, 3).join('/')] : [`${this.props.location.pathname}`];\n\n        return (\n            <Layout>\n                <RadiumStyle scopeSelector={['.statistics']}\n                    rules={{\n                        '#reactApp': {\n                            backgroundColor: '#f0f2f5 !important',\n                        },\n                    }} />\n                <Header style={{ position: 'fixed', zIndex: 1, width: '100%', height: 'auto' }}>\n                    <Menu\n                        theme='dark'\n                        mode='horizontal'\n                        selectedKeys={selectedKeys}\n                        style={{ lineHeight: '64px' }}\n                        onClick={(item) => {\n                            this.props.history.push(item.key.replace('.$', ''));\n                        }}\n                    >\n                        {this.makeMenuItem(Nav[0].children, '/statistics')}\n                    </Menu>\n                </Header>\n                <Content id='fixSelect' style={{ padding: '0 50px', marginTop: 64 }}>\n                    <div style={{\n                        minHeight: 380,\n                        marginTop: '16px',\n                        background: '#fff',\n                        overflow: 'auto',\n                    }}>\n                        {routes}\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center' }}>\n                </Footer>\n            </Layout>\n        );\n    }\n\n    private makeMenuItem = (menuList: NavProps[], parentUrl?: string) => {\n        return menuList.map((r: NavProps, i: number) => {\n            const url = `${parentUrl || ''}/${r.url}`;\n            const title = r.title;\n\n            if (r.children && r.children.length > 0) {\n                return (\n                    <Menu.SubMenu\n                        key={url}\n                        title={<span>{title}</span>}\n                    >\n                        {this.makeMenuItem(r.children, url)}\n                    </Menu.SubMenu>\n                );\n            }\n\n            return (\n                <Menu.Item key={url}>\n                    <span>{title}</span>\n                </Menu.Item>\n            );\n        });\n    }\n\n}\n\nexport const LayoutBase = withRouter(withAppState(LayoutBaseView));\n","import C from 'antd/lib/layout';\nimport 'antd/lib/layout/style/css';\nimport 'common/antd/default-style.css';\nexport const Layout: typeof C = require('antd/lib/layout');\n","import C from 'antd/lib/menu';\nimport 'antd/lib/menu/style/css';\nimport 'common/antd/default-style.css';\nexport const Menu: typeof C = require('antd/lib/menu').default;\n","import { Radium } from 'common/radium';\nimport * as React from 'react';\n\n/**\n * scopeSelector 格式必须 site 开头  例如：[`${site}`, `${site}.${app}`, `${site}.${app}.xxx`]\n */\ninterface Props {\n    rules: React.CSSProperties | any;\n    scopeSelector: string[];\n}\n\nconst Style: any = Radium.Style;\n\n@Radium\nexport class RadiumStyle extends React.Component<Props, {}> {\n    render() {\n        return (\n            <div>\n                {\n                    this.props.scopeSelector ?\n                        this.props.scopeSelector.length === 0 ?\n                            <Style rules={this.props.rules} />\n                            :\n                            (this.props.scopeSelector || []).map((r, i) => {\n                                return <Style key={i} scopeSelector={r} rules={this.props.rules} />;\n                            }) : null\n                }\n                {this.props.children}\n            </div>\n        );\n    }\n}\n","import * as radium from 'radium';\nexport const Radium = radium.default;\n","export interface NavProps {\n    title: string;\n    url: string;\n    children?: NavProps[];\n}\n\nexport const Nav: NavProps[] = [\n    {\n        title: '基础数据',\n        url: 'statistics',\n        children: [\n            {\n                title: '服务器集群',\n                url: 'server',\n            },\n        ],\n    },\n];\n","\nimport * as React from 'react';\nimport {\n    Redirect,\n    Route,\n} from 'react-router-dom';\nimport { Server } from './statistics/server/index';\n\nexport const routes = (\n    <div>\n        <Route\n            exact\n            path='/'\n            render={() => <Redirect to='/statistics/server' />}\n        />\n        <Route exact path='/statistics/server' component={Server} />\n    </div>\n);\n","import { Radium } from 'common/radium';\nimport * as _ from 'lodash';\nimport * as React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { fabric } from 'fabric';\nimport { IRectOptions, Point, IPathOptions, TextOptions, ITriangleOptions, ILineOptions } from 'fabric/fabric-impl';\nimport { Button } from 'common/antd/button';\n\n@Radium\nclass ServerView extends React.Component<RouteComponentProps<any>, {}> {\n    // 渲染缩放比例\n    private PROPORTION = { width: 1, height: 1 };\n\n    private canvas: fabric.Canvas;\n\n    // 拖拽位置\n    private lastPos: { x: number, y: number } = { x: 0, y: 0 };\n    // 是否可拖拽\n    private drag: boolean = false;\n\n    // 数据\n    private sourceData: any[][] = [\n        [\n            {\n                \"id\": \"06a90dbf238865abd2077d3a735749e9\",\n                \"groupName\": \"亿城国际中心\",\n                \"labelName\": \"北京|研七|linux\",\n                \"hostList\": [\n                    [\n                        {\n                            \"id\": \"001902872b464fe2a95cbcb1786c041d\",\n                            \"hostName\": \"debian1\",\n                            \"hostStatus\": \"0\",\n                        }\n                    ],\n                    [\n                        {\n                            \"hostName\": \"debian2\",\n                        }\n                    ]\n                ]\n            },\n            {\n                \"id\": \"1f1be6e3bddce039a630eb33d6acf009\",\n                \"groupName\": \"测试部\",\n                \"labelName\": \"北京|天津|windows\",\n                \"hostList\": [\n                    [\n                        {\n                            \"hostName\": \"debian3\",\n                        }\n                    ]\n                ]\n            },\n            {\n                \"id\": \"8517a77f8df6a494eff30683fbea482d\",\n                \"groupName\": \"大数据中心\",\n                \"labelName\": \"云环境|天津|windows\",\n                \"hostList\": [\n                    [\n                        {\n                            \"hostName\": \"debian4\",\n                        },\n                        {\n                            \"hostName\": \"debian5\",\n                        }\n                    ]\n                ]\n            }\n        ],\n        [\n            {\n                id: 1,\n                groupName: '集群1',\n                labelName: 'p1111',\n                hostList: [\n                    [\n\n                        {\n                            hostName: 'a1',\n                        },\n                        {\n                            hostName: 'a2',\n                        },\n                        {\n                            hostName: 'a3',\n                        },\n                        {\n                            hostName: 'a4',\n                        },\n                        {\n                            hostName: 'a5',\n                        },\n                        {\n                            hostName: 'a6',\n                        },\n                        {\n                            hostName: 'a7',\n                        },\n                        {\n                            hostName: 'a8',\n                        },\n                    ],\n                    [\n\n                        {\n                            hostName: 'a9',\n                        },\n                        {\n                            hostName: 'a10',\n                        },\n                        {\n                            hostName: 'a11',\n                        },\n                    ],\n                    [\n                        {\n                            hostName: 'a12',\n                        },\n                        {\n                            hostName: 'a13',\n                        },\n                        {\n                            hostName: 'a14',\n                        },\n                        {\n                            hostName: 'a15',\n                        },\n                        {\n                            hostName: 'a16',\n                        },\n                    ],\n                ]\n            },\n            {\n                id: 2,\n                groupName: '集群2',\n                labelName: 'p2222',\n            },\n            {\n                id: 3,\n                groupName: '集群3',\n                labelName: 'p3333',\n            },\n        ],\n        [\n            {\n                id: 4,\n                groupName: '集群4',\n                labelName: 'p4444',\n            },\n            {\n                id: 5,\n                groupName: '集群5',\n                labelName: 'p5555',\n            },\n            {\n                id: 6,\n                groupName: '集群6',\n                labelName: 'p6666',\n            },\n        ],\n    ];\n\n    private clusterGroups: Array<Array<fabric.Group>> = [];\n    private openCluster: any[] = [{ id: 1 }];\n\n    // 画布缩放比例\n    private zoom: number = 1;\n    private max_zoom: number = 10;\n    private min_zoom: number = 0.1;\n\n    // 全屏\n    private fullscreen: boolean = false;\n\n    // 集群大小偏移量\n    private groupBox: { left: number, top: number, width: number, height: number, offset: { left: number, top: number } } = {\n        left: 100,\n        top: 50,\n        width: 200,\n        height: 200,\n        offset: {\n            // left: 30,\n            // top: 50,\n            left: 100,\n            top: 150,\n        },\n\n    };\n\n    // 服务器大小\n    private subBox: { width: number, height: number, offset: { left: number, top: number } } = {\n        width: 50,\n        height: 50,\n        offset: {\n            left: 20,\n            top: 70,\n        },\n    };\n\n    // 图片url\n    private imgUrls: string[] = [\n        'https://cdn.pixabay.com/photo/2019/12/08/01/08/winter-4680354__340.jpg',\n    ];\n\n    // 图片fabric对象\n    private imgs: fabric.Image[] = [];\n\n    // pathfabric对象\n    private paths: fabric.Path[] = [];\n\n    /**\n     * 获取文档的大小\n     */\n    get clientRect() {\n        const width = document.documentElement.clientWidth\n        const height = document.documentElement.clientHeight\n        return {\n            width,\n            height\n        }\n    }\n\n    constructor(props: any) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.canvas = new fabric.Canvas('an', {\n            backgroundColor: '#eee',\n            // 禁用组选择\n            selection: false,\n        });\n        window.addEventListener('resize', this.handleWindowResize);\n        this.handleWindowResize();\n        this.subscriptionEvent();\n        this.createImgObj();\n        this.createImg();\n        document.getElementById('an').parentNode.addEventListener('mousewheel', this.handleMousewheel);\n    }\n\n    createImgObj() {\n        this.imgUrls.forEach((url: string) => {\n            this.drawImg(url, {});\n        });\n    }\n\n    // 创建图片定时器\n    createImg() {\n        setTimeout(() => {\n            if (this.imgs.length > 0) {\n                this.initRender();\n            } else {\n                this.createImg();\n            }\n        }, 1000);\n    }\n\n    /**\n     * `mousewheel`事件处理\n     */\n    private handleMousewheel = (e: any) => {\n        const { canvas } = this;\n        const factor = 40\n        let delta = e.deltaY;\n        let zoom = canvas.getZoom();\n        delta = delta < -factor ? -factor : delta > factor ? factor : delta\n        zoom = zoom - delta / 200;\n\n        zoom = Math.max(this.min_zoom, zoom);\n        zoom = Math.min(this.max_zoom, zoom);\n        const zoomPoint = new fabric.Point(e.offsetX, e.offsetY);\n\n        canvas.zoomToPoint(zoomPoint, zoom);\n\n        this.zoom = zoom\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    /**\n     * 滚轮缩放\n     * @param {Number} dir\n     */\n    zoomInOut(dir: number) {\n        const { width, height } = this.getCanvasSize();\n        let zoom = this.canvas.getZoom() + dir;\n        zoom = Math.max(this.min_zoom, zoom);\n        zoom = Math.min(this.max_zoom, zoom);\n        const zoomPoint = new fabric.Point(width / 2, height / 2);\n        this.canvas.zoomToPoint(zoomPoint, zoom);\n        this.zoom = zoom;\n    }\n\n    private initRender = () => {\n        const { groups } = this.drawGroup(\n            this.sourceData,\n            { ...this.groupBox },\n            { type: 'sourceNode' }\n        );\n        this.clusterGroups = groups;\n\n        this.linkObj(this.clusterGroups[0][0], this.clusterGroups[1][0], false, true);\n        this.linkObj(this.clusterGroups[0][0], this.clusterGroups[1][0], true, false);\n    }\n\n    /** 创建链接关系 */\n    private linkObj = (fromObj: any, toObj: any, fromArrows: boolean, toArrows: boolean) => {\n        const pathConfig: {\n            fromX: any;\n            fromY: any;\n            toX: any;\n            toY: any;\n            fromArrows: boolean;\n            toArrows: boolean;\n        } = {\n            fromX: fromObj.left + fromObj.width,\n            fromY: fromObj.top + this.clusterGroups[0][0].height / 2,\n            toX: toObj.left + toObj.width,\n            toY: toObj.top + toObj.height / 2,\n            fromArrows,\n            toArrows,\n        };\n        const drapPath = this.linkPath(pathConfig);\n\n        const path: any = this.drawPath(\n            drapPath.join(' '),\n            {\n                fill: '',\n                stroke: '#000',\n                objectCaching: false,\n            }\n        );\n\n        path.isMouseInLine = this.verifyLink(pathConfig);\n\n        path.index = this.paths.length;\n\n        path.pathConfig = pathConfig;\n\n        path.objs = {\n            fromObj,\n            toObj,\n        };\n\n        if (!fromObj.paths) {\n            fromObj.paths = [path];\n        } else {\n            fromObj.paths.push(path);\n        }\n\n        if (!toObj.paths) {\n            toObj.paths = [path];\n        } else {\n            toObj.paths.push(path);\n        }\n\n        this.paths.push(path);\n\n        this.canvas.add(path);\n    }\n\n    // 生成校验点线函数\n    private verifyLink = (pathConfig: {\n        fromX: any;\n        fromY: any;\n        toX: any;\n        toY: any;\n        fromArrows: boolean;\n        toArrows: boolean;\n    }) => {\n        const drapPath = this.linkPath(pathConfig);\n\n        let Bezier = [];\n        drapPath.forEach(path => {\n            if (path.indexOf('Q') !== -1) {\n                Bezier = path.split(' ');\n            }\n        });\n\n        const canvas: any = document.getElementById('an');\n        const ctx = canvas.getContext('2d');\n\n        return (mouse: { x: number, y: number }) => {\n            ctx.beginPath();\n            ctx.moveTo(pathConfig.fromX, pathConfig.fromY);\n            ctx.quadraticCurveTo(Bezier[1], Bezier[2], pathConfig.toX, pathConfig.toY);\n            ctx.lineWidth = 10;\n            ctx.lineCap = 'round';\n\n            return ctx.isPointInStroke(mouse.x, mouse.y);\n            // return ctx.isPointInPath(mouse.x, mouse.y);\n        }\n    }\n\n    /**\n     * canvas 事件监听\n     */\n    private subscriptionEvent() {\n        this.canvas.on({\n            'mouse:dblclick': (e: fabric.IEvent | any) => {\n                if (e.target && e.target['drawObj']) {\n                    this.showHide(e.target);\n                }\n            },\n            'mouse:down': (e: fabric.IEvent | any) => {\n                this.lastPos = {\n                    x: e.e.clientX,\n                    y: e.e.clientY\n                };\n                if (!e.target) {\n                    this.drag = true;\n                }\n\n                this.deActiveObject();\n\n                let activePath = false;\n\n                var mouse = {\n                    x: e.pointer.x,\n                    y: e.pointer.y\n                };\n\n                this.paths.forEach((path: any) => {\n                    if (path.isMouseInLine(mouse)) {\n                        this.deActiveObject();\n                        activePath = true;\n                        path.objs.fromObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.objs.toObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.set({\n                            fill: '',\n                            stroke: 'rgba(0, 0, 255, 0.4)',\n                        });\n                        this.canvas.renderAll();\n                    }\n                });\n\n                if (activePath) {\n                    return;\n                }\n\n                if (e.target && e.target['drawObj']) {\n                    (e.target.paths || []).forEach((path: any) => {\n                        path.objs.fromObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.objs.toObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.set({\n                            fill: '',\n                            stroke: 'rgba(0, 0, 255, 0.4)',\n                        });\n                    });\n                    this.canvas.renderAll();\n                }\n            },\n            'mouse:up': (e: fabric.IEvent | any) => {\n                this.drag = false;\n                if (!(e.target && e.target['drawObj'])) {\n                    return\n                }\n\n                // console.log(e.e.clientX, e.e.clientY, e.target.initBox);\n\n                // console.log(e.e.clientX >= e.target.initBox.minLeft);\n                // console.log(e.e.clientX <= e.target.initBox.maxLeft);\n                // console.log(e.e.clientY >= e.target.initBox.minTop);\n                // console.log(e.e.clientY <= e.target.initBox.maxTop);\n\n                if (\n                    e.e.clientX >= e.target.initBox.minLeft &&\n                    e.e.clientX <= e.target.initBox.maxLeft &&\n                    e.e.clientY >= e.target.initBox.minTop &&\n                    e.e.clientY <= e.target.initBox.maxTop\n                ) {\n                    return;\n                }\n\n                const clusterA = {\n                    x: e.target.left + e.target.width / 2,\n                    y: e.target.top + e.target.height / 2,\n                };\n\n                // 距离对象最近的对象\n                let minDistanceObj: any;\n                let minDistance: number = 9999999999999999999999999;\n\n                // 位置：默认在对象前面\n                let position = 'left';\n\n                this.clusterGroups.forEach((groups: any) => {\n                    groups.forEach((cluster: any) => {\n                        if (e.target.sourceData.id !== cluster.sourceData.id) {\n                            const clusterB = {\n                                x: cluster.left + cluster.width / 2,\n                                y: cluster.top + cluster.height / 2,\n                            };\n                            const x = clusterA.x - clusterB.x;\n                            const y = clusterA.y - clusterB.y;\n\n                            // 计算两个坐标点记录\n                            const distance = Math.sqrt(x * x + y * y);\n\n                            if (distance < minDistance) {\n                                minDistance = distance;\n                                minDistanceObj = cluster;\n                            }\n\n                            // 判断前后\n                            position = x > 0 ? 'right' : 'left';\n                        }\n                    });\n                });\n\n                console.log({\n                    currentId: e.target.sourceData.id,\n                    currentIndex: e.target.sourceDataIndex,\n                    position,\n                    minDistanceObjId: minDistanceObj.sourceData.id,\n                    minDistanceObjIndex: minDistanceObj.sourceDataIndex,\n                });\n            },\n            'mouse:move': (e: fabric.IEvent | any) => {\n                if (this.drag) {\n                    const vpt = this.canvas.viewportTransform;\n\n                    this.canvas.setViewportTransform([\n                        ...vpt.slice(0, 4),\n                        vpt[4] + e.e.clientX - this.lastPos.x,\n                        vpt[5] + e.e.clientY - this.lastPos.y,\n                    ]);\n                    this.lastPos.x = e.e.clientX;\n                    this.lastPos.y = e.e.clientY;\n                }\n\n                var mouse = {\n                    x: e.pointer.x,\n                    y: e.pointer.y\n                };\n\n                let activePath = [];\n                this.deActiveObject();\n                this.paths.forEach((path: any) => {\n                    if (path.isMouseInLine(mouse)) {\n                        activePath.push(path.index);\n                        path.objs.fromObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.objs.toObj.drawObj.cluster.set({\n                            stroke: 'rgba(255, 255, 0, .4)',\n                        });\n                        path.set({\n                            fill: '',\n                            stroke: 'rgba(0, 0, 255, 0.4)',\n                            objectCaching: false,\n                        });\n                        this.canvas.renderAll();\n                    }\n                });\n                console.log(activePath);\n            },\n            'object:moving': (e: fabric.IEvent | any) => {\n                (e.target.paths || []).forEach((path: any) => {\n                    const { fromObj, toObj } = path.objs;\n                    const pathConfig = {\n                        fromX: fromObj.left + fromObj.width,\n                        fromY: fromObj.top + this.clusterGroups[0][0].height / 2,\n                        toX: toObj.left + toObj.width,\n                        toY: toObj.top + toObj.height / 2,\n                        fromArrows: path.pathConfig.fromArrows,\n                        toArrows: path.pathConfig.toArrows,\n                    };\n                    var pathObject = new fabric.Path(this.linkPath(pathConfig).join(' '));\n\n                    path.pathConfig = pathConfig;\n                    path.isMouseInLine = this.verifyLink(pathConfig);\n\n                    path.set({\n                        path: pathObject.path,\n                        fill: '',\n                        stroke: 'rgba(0, 0, 255, 0.4)',\n                        objectCaching: false,\n                    });\n                });\n\n                this.canvas.renderAll();\n            },\n        });\n    }\n\n    /** 渲染组 */\n    private drawGroup(\n        sourceData: any[],\n        offset: IRectOptions,\n        keys: { [key: string]: any },\n    ): {\n        groups: fabric.Group[][];\n        groupBox: { top?: number, left?: number, height: number, width: number };\n    } {\n        let initTop = offset.top;\n\n        const groupBox = {\n            width: 0,\n            height: 0,\n        };\n\n        let subOffset = {\n            left: 0,\n            top: 0,\n        };\n\n        if (keys.type !== 'sourceNode') {\n            subOffset = this.subBox.offset;\n            initTop = offset.top - (30 + this.subBox.offset.top);\n        }\n\n        const groups = sourceData.map((r, i) => {\n            const { objGroup, objGroupBox } = this.drawObj(\n                r,\n                {\n                    width: offset.width,\n                    height: offset.height,\n                    top: offset.top + subOffset.top,\n                    left: offset.left + subOffset.left,\n                },\n                keys);\n\n            offset.top = offset.top + objGroupBox.height + this.groupBox.offset.top;\n            groupBox.width = objGroupBox.sumWidth > groupBox.width ? objGroupBox.sumWidth : groupBox.width;\n            groupBox.height = objGroupBox.sumHeight > groupBox.height ? objGroupBox.sumHeight : groupBox.height;\n\n            return objGroup;\n        });\n\n        return {\n            groups,\n            groupBox: {\n                width: groupBox.width - offset.left + subOffset.left,\n                height: groupBox.height - initTop,\n            }\n        };\n    }\n\n    /** 渲染子 */\n    private drawObj(sourceGroup: any[], offset: IRectOptions, keys: { [key: string]: any }) {\n        const options: IRectOptions = {\n            ...offset\n        };\n\n        // 计算group box的max box\n        const objGroupBox = {\n            ...offset,\n            sumWidth: 0,\n            sumHeight: 0,\n        };\n\n        const objGroup = sourceGroup.map((r, i) => {\n            // 是否展开\n            const open = _.findIndex(this.openCluster, oc => oc.id === r.id) !== -1 && keys.type === 'sourceNode';\n            const drawObj: any = {};\n            let cluster: any;\n            if (keys.type === 'sourceNode') {\n                // 初始化画框\n                cluster = this.drawRect({\n                    ...options,\n                    rx: 10,\n                    ry: 10,\n                });\n\n                drawObj.cluster = cluster;\n            } else {\n                cluster = _.clone(this.imgs[0]);\n                cluster.set({\n                    top: options.top,\n                    left: options.left,\n                    scaleX: options.width / cluster.width,\n                    scaleY: options.height / cluster.height\n                });\n                drawObj.cluster = cluster;\n            }\n\n            const box = {\n                openWidth: offset.width,\n                openHeight: offset.height,\n            };\n\n            if (open && r.hostList && r.hostList.length > 0) {\n                // 是否渲染服务器\n                const { groups: subsGroup, groupBox: subsGroupBox } = this.drawGroup(\n                    r.hostList,\n                    {\n                        left: options.left,\n                        top: options.top,\n                        width: this.subBox.width,\n                        height: this.subBox.height,\n                    },\n                    { type: 'subNode' },\n                );\n\n                box.openWidth = subsGroupBox.width > box.openWidth ? subsGroupBox.width : box.openWidth;\n                box.openHeight = subsGroupBox.height > box.openHeight ? subsGroupBox.height : box.openHeight;\n\n                options.width = open ? box.openWidth : offset.width;\n                options.height = open ? box.openHeight : offset.height;\n\n                // 拿到最新值\n                cluster.set(options);\n\n                const intranetOptions = {\n                    top: options.top - this.subBox.height / 2,\n                    left: options.left + options.width / 3 - this.subBox.width / 2,\n                    width: this.subBox.width,\n                    height: this.subBox.height,\n                };\n\n                const { labelBox: intranetBox } = this.computeBox(intranetOptions);\n\n                const intranet = _.clone(this.imgs[0]);\n                intranet.set({\n                    top: intranetOptions.top,\n                    left: intranetOptions.left,\n                    scaleX: intranetOptions.width / intranet.width,\n                    scaleY: intranetOptions.height / intranet.height\n                });\n\n                const intranetLabel = this.drawText(\n                    '内网',\n                    {\n                        ...intranetBox,\n                        originX: 'center',\n                        originY: 'top',\n                    },\n                );\n\n                const internetOptions = {\n                    top: options.top - this.subBox.height / 2,\n                    left: options.left + options.width / 3 * 2 - this.subBox.width / 2,\n                    width: this.subBox.width,\n                    height: this.subBox.height,\n                };\n\n                const { labelBox: internetBox } = this.computeBox(internetOptions);\n\n                const internet = _.clone(this.imgs[0]);\n                internet.set({\n                    top: internetOptions.top,\n                    left: internetOptions.left,\n                    scaleX: internetOptions.width / intranet.width,\n                    scaleY: internetOptions.height / intranet.height\n                });\n\n                const internetLabel = this.drawText(\n                    '外网',\n                    {\n                        ...internetBox,\n                        originX: 'center',\n                        originY: 'top',\n                    },\n                );\n\n                drawObj.network = [intranet, intranetLabel, internet, internetLabel];\n\n                drawObj.subsGroup = subsGroup;\n            }\n\n            objGroupBox.width = options.width > objGroupBox.width ? options.width : objGroupBox.width;\n            objGroupBox.height = options.height > objGroupBox.height ? options.height : objGroupBox.height;\n            objGroupBox.sumWidth = options.left + options.width > objGroupBox.sumWidth ? options.left + options.width : objGroupBox.sumWidth;\n            objGroupBox.sumHeight = options.top + options.height > objGroupBox.sumHeight ? options.top + options.height : objGroupBox.sumHeight;\n\n            const { titleBox, lineBox, totalBox, labelBox } = this.computeBox(options);\n            if (keys.type === 'sourceNode') {\n                const title = this.drawText(\n                    r.groupName,\n                    {\n                        ...titleBox,\n                        originX: 'center',\n                        originY: 'center',\n                        visible: !open,\n                    },\n                );\n                drawObj.title = title;\n\n                const line = this.drawPath(\n                    lineBox,\n                    {\n                        fill: 'transparent',\n                        stroke: '#999',\n                        visible: !open,\n                    },\n                );\n                drawObj.line = line;\n\n                let count = 0;\n                if (r.hostList) {\n                    r.hostList.forEach((hosts: any) => {\n                        hosts.forEach((obj: any) => {\n                            count++;\n                        });\n                    });\n                }\n\n                const total = this.drawText(\n                    `${count}`,\n                    {\n                        ...totalBox,\n                        originX: 'center',\n                        originY: 'center',\n                        visible: !open,\n                    },\n                );\n                drawObj.total = total;\n            }\n\n            const label = this.drawText(\n                keys.type === 'sourceNode' ? `${r.labelName}` : `${r.hostName}`,\n                {\n                    ...labelBox,\n                    originX: 'center',\n                    originY: 'top',\n                },\n            );\n\n            drawObj.label = label;\n\n            const clusterGroup: any = new fabric.Group(_.flattenDeep(_.toArray(drawObj)), {\n                // 禁止四点定位\n                hasControls: false,\n            });\n\n            clusterGroup.borderColor = 'transparent';\n\n            clusterGroup['open'] = open;\n            clusterGroup['drawObj'] = drawObj;\n            clusterGroup['sourceData'] = r;\n            clusterGroup['sourceDataIndex'] = i;\n            clusterGroup['sourceGroup'] = sourceGroup;\n\n            clusterGroup['keys'] = keys;\n            clusterGroup['initBox'] = {\n                minLeft: clusterGroup.left - this.groupBox.offset.left,\n                minTop: clusterGroup.top - this.groupBox.offset.top,\n                maxLeft: clusterGroup.left + clusterGroup.width + this.groupBox.offset.left * 2,\n                maxTop: clusterGroup.top + clusterGroup.height + this.groupBox.offset.top * 2,\n            };\n\n            if (keys.type === 'sourceNode') {\n                this.canvas.add(clusterGroup);\n            }\n\n            options.left = options.left + options.width + this.groupBox.offset.left;\n            options.width = offset.width;\n            options.height = offset.height;\n\n            return clusterGroup;\n        });\n\n        return { objGroup, objGroupBox };\n    }\n\n    /** 计算集群 Box */\n    private computeBox = (options: IRectOptions) => {\n        return {\n            titleBox: {\n                left: options.left + options.width / 2,\n                top: options.top + options.height / 2 - 15,\n            },\n            lineBox: `M ${options.left + 10} ${options.top + options.height / 2} L ${options.left + options.width - 10} ${options.top + options.height / 2}`,\n            totalBox: {\n                left: options.left + options.width / 2,\n                top: options.top + 15 + options.height / 2,\n            },\n            labelBox: {\n                left: options.left + options.width / 2,\n                top: options.top + options.height + 5,\n            },\n        };\n    }\n\n    render() {\n        return (\n            <div id='canvasBox'>\n                <Button.Group>\n                    <Button icon='plus' onClick={() => this.zoomInOut(0.1)} />\n                    <Button icon='minus' onClick={() => this.zoomInOut(-0.1)} />\n                </Button.Group>\n                <Button icon={this.fullscreen ? 'arrows-alt' : 'shrink'} onClick={() => this.launchFullscreen(document.getElementById('canvasBox'))} />\n                <canvas id='an'></canvas>\n            </div>\n        );\n    }\n\n    // 全屏模式\n    private launchFullscreen(element: any, ) {\n        if (this.fullscreen) {\n            const doc: any = document;\n\n            if (doc.exitFullscreen) {\n                doc.exitFullscreen();\n            }\n            else if (doc.webkitExitFullscreen) {\n                doc.webkitExitFullscreen();\n            }\n            else if (doc.msExitFullscreen) {\n                doc.msExitFullscreen();\n            }\n            else if (doc.mozCancelFullScreen) {\n                doc.mozCancelFullScreen();\n            }\n            this.fullscreen = false;\n            return;\n        }\n\n        if (element.requestFullscreen) {\n            element.requestFullscreen();\n        } else if (element.mozRequestFullScreen) {\n            element.mozRequestFullScreen();\n        } else if (element.msRequestFullscreen) {\n            element.msRequestFullscreen();\n        } else if (element.webkitRequestFullscreen) {\n            element.webkitRequestFullScreen();\n        }\n\n        this.fullscreen = true;\n    }\n\n    /** 链接线 */\n    private linkPath = (pathFromAndTo: {\n        fromX: number;\n        fromY: number;\n        toX: number;\n        toY: number;\n        fromArrows: boolean;\n        toArrows: boolean;\n    }): string[] => {\n        const offset = pathFromAndTo.fromArrows ? 100 : -100;\n\n        const pathConfig = Object.assign({}, pathFromAndTo, {\n            theta: 10,\n            headlen: 10,\n            offset,\n        });\n\n\n        const arrows = pathFromAndTo.toArrows ? this.drawArrows(pathConfig) : [];\n        const arrows2 = pathFromAndTo.fromArrows ? this.drawArrows(Object.assign({}, pathConfig, {\n            fromX: pathConfig.toX,\n            fromY: pathConfig.toY,\n            toX: pathConfig.fromX,\n            toY: pathConfig.fromY,\n        })) : [];\n\n        const q = `Q ${(pathConfig.fromX + pathConfig.toX) / 2 + offset} ${(pathConfig.fromY + pathConfig.toY) / 2}`;\n\n        return [\n            ...arrows,\n            `M ${pathConfig.fromX} ${pathConfig.fromY}`,\n            q,\n            ` ${pathConfig.toX} ${pathConfig.toY}`,\n            ...arrows2,\n        ];\n    }\n\n    /** 箭头 */\n    private drawArrows = (obj: {\n        fromX: number, fromY: number, toX: number, toY: number, theta: number, headlen: number, offset: number\n    }): string[] => {\n        const { fromX, fromY, toX, toY, theta, headlen, offset } = obj;\n\n        let angle = Math.atan2(fromY - toY, fromX - toX + offset) * 180 / Math.PI;\n        let angle1 = (angle + theta) * Math.PI / 180;\n        let angle2 = (angle - theta) * Math.PI / 180;\n        let topX = headlen * Math.cos(angle1);\n        let topY = headlen * Math.sin(angle1);\n        let botX = headlen * Math.cos(angle2);\n        let botY = headlen * Math.sin(angle2);\n\n        return [\n            `M ${toX + topX} ${toY + topY}`,\n            `L ${toX} ${toY}`,\n            `L ${toX + botX} ${toY + botY}`,\n        ];\n    }\n\n    /**\n     * 取消高亮对象\n     */\n    private deActiveObject() {\n        this.clusterGroups.forEach((cluster: any, i) => {\n            cluster.forEach((obj: any) => {\n                obj['drawObj']['cluster'].set({\n                    stroke: '#999',\n                });\n\n                (obj.paths || []).forEach((path: any) => {\n                    path.set({\n                        fill: '',\n                        stroke: '#000',\n                    });\n                });\n            });\n        });\n        this.canvas.renderAll();\n    }\n\n    // 对象显示隐藏\n    private showHide = (obj: any) => {\n        if (!obj.open) {\n            this.openCluster.push(obj.sourceData);\n        } else {\n            _.remove(this.openCluster, (c) => c.id === obj.sourceData.id);\n        }\n\n        this.canvas.remove(...this.canvas.getObjects());\n        this.initRender();\n    }\n\n    /**\n     * 处理window `resize`事件\n     * @param factor draw 画布大小计算缩放比例\n     */\n    private handleWindowResize = (e?: Event, factor = this.PROPORTION) => {\n        const { width, height } = this.getCanvasSize(factor);\n        this.canvas.setDimensions({\n            width,\n            height\n        });\n    }\n\n    /**\n     * 获取画布大小\n     * @param factor draw 画布大小计算缩放比例\n     */\n    private getCanvasSize = (factor = this.PROPORTION) => {\n        const { width, height } = this.clientRect;\n\n        return {\n            width: (width - 188) * factor.width,\n            height: (height - 60 * 2) * factor.height\n        }\n    }\n\n    // 画四方形\n    private drawRect(option: IRectOptions = {}): fabric.Rect {\n        var rect: fabric.Rect = new fabric.Rect(Object.assign(\n            {},\n            {\n                // 填充色\n                fill: '#fff',\n                // 边框\n                strokeWidth: 1,\n                stroke: \"#999\",\n                // 圆角\n                // rx: 10,\n                // ry: 10,\n                // 旋转\n                // angle: 45,\n                // 禁止四点定位\n                hasControls: false,\n                // 禁止选中\n                selectable: false,\n            },\n            option,\n        ));\n\n        return rect;\n    }\n\n    // 画路径线\n    private drawPath(path: string | Point[] = '', option: IPathOptions = {}): fabric.Path {\n        var pathLine: fabric.Path = new fabric.Path(\n            path,\n            Object.assign(\n                {},\n                {\n                    // 边框\n                    // stroke: 'black',\n                    // 禁止四点定位\n                    hasControls: false,\n                    // 禁止选中\n                    selectable: false,\n                    // 禁用缓存\n                    objectCaching: false,\n                    // 禁用事件\n                    evented: false,\n                },\n                option\n            )\n        );\n\n        return pathLine;\n    }\n\n    // 画文案\n    private drawText(str: string, option: TextOptions = {}): fabric.Text {\n        var text: fabric.Text = new fabric.Text(str, Object.assign(\n            {},\n            {\n                // 字体对其方式\n                // originX: 'left',\n                // originY: 'top',\n                // 字体描边\n                stroke: '#000',\n                // 字体大小\n                fontSize: 12,\n                // 填充色\n                fill: 'transparent',\n                // 禁止四点定位\n                hasControls: false,\n                // 禁止选中\n                selectable: false,\n            },\n            option\n        ));\n\n        return text;\n    }\n\n    // 画图片\n    private drawImg(url: string, option: TextOptions = {}) {\n        fabric.Image.fromURL(url, (img) => {\n            img.set(Object.assign(\n                {},\n                {\n                    // 禁止四点定位\n                    hasControls: false,\n                    // 禁止选中\n                    selectable: false,\n                },\n                option\n            ));\n            this.imgs.push(img);\n        });\n    }\n}\n\nexport const Server = withRouter(ServerView);\n","import C from 'antd/lib/button';\nimport 'antd/lib/button/style/css';\nimport 'common/antd/default-style.css';\nexport const Button: typeof C = require('antd/lib/button');\n"]}