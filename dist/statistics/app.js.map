{"version":3,"sources":["/tpl/statistics/index.tsx","/tpl/common/antd/localeProvider.ts","/tpl/statistics/common/appStateStore.tsx","/tpl/statistics/routes.tsx","/tpl/statistics/page/layoutBase.tsx","/tpl/common/antd/layout.ts","/tpl/common/antd/menu.ts","/tpl/common/component/radium_style.tsx","/tpl/common/radium.ts","/tpl/statistics/common/publicData.tsx","/tpl/statistics/page/routes.tsx","/tpl/statistics/page/statistics/server/index.tsx"],"names":[],"mappings":"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","file":"","sourcesContent":["import { LocaleProvider, zhCNC } from 'common/antd/localeProvider';\nimport * as moment from 'moment';\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { AppStateProvider } from './common/appStateStore';\nimport { routes } from './routes';\n\nmoment.locale('zh-cn');\n\nrender(\n    <LocaleProvider locale={zhCNC}>\n        <AppStateProvider>\n            {routes}\n        </AppStateProvider>\n    </LocaleProvider>,\n    document.getElementById('reactApp'));\n","import C from 'antd/lib/locale-provider';\nimport 'antd/lib/locale-provider/style/css';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport 'common/antd/default-style.css';\nimport 'moment/locale/zh-cn';\nexport const LocaleProvider: typeof C = require('antd/lib/locale-provider');\nexport const zhCNC: typeof zhCN = zhCN;\n","import { observable } from 'mobx';\nimport { inject, Provider } from 'mobx-react';\nimport * as React from 'react';\n\nexport class AppStateStore {\n    @observable appState: {\n        currentUser?: {\n            permissions?: string[],\n        },\n    };\n\n    constructor() {\n        this.appState = {\n            currentUser: {\n                permissions: ['guest'],\n            },\n        };\n    }\n\n}\n\nexport interface WithAppState {\n    data: AppStateStore;\n}\n\nexport class AppStateProvider extends React.Component<{}, {}> {\n    private store: AppStateStore;\n    constructor(props: any) {\n        super(props);\n        this.store = new AppStateStore();\n    }\n    render() {\n        return (\n            <Provider data={this.store}>\n                {this.props.children}\n            </Provider>\n        );\n    }\n}\n\nexport function withAppState<P>(\n    UnderlyingComponent: React.ComponentClass<P & WithAppState>\n        | React.StatelessComponent<P & WithAppState>)\n    : React.ComponentClass<P> {\n    return inject('data')(UnderlyingComponent as any);\n}\n","import * as React from 'react';\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n} from 'react-router-dom';\nimport { LayoutBase } from './page/layoutBase';\n\nexport const routes = (\n    <Router>\n        <Switch>\n            <Route path='/' component={LayoutBase} />\n        </Switch>\n    </Router>\n);\n","import { Icon } from 'common/antd/icon';\nimport { Layout } from 'common/antd/layout';\nimport { Menu } from 'common/antd/menu';\nimport { Link } from 'common/component/Link';\nimport { RadiumStyle } from 'common/component/radium_style';\nimport { Radium } from 'common/radium';\nimport * as _ from 'lodash';\nimport { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { withAppState, WithAppState } from 'statistics/common/appStateStore';\nimport { Nav, NavProps } from '../common/publicData';\nimport { routes } from './routes';\n\nconst { Header, Content, Footer } = Layout;\n\n@Radium\n@observer\nexport class LayoutBaseView extends React.Component<RouteComponentProps<any> & WithAppState> {\n\n    constructor(props: any) {\n        super(props);\n    }\n\n    render() {\n        const pathArr = this.props.location.pathname.split('/');\n        const selectedKeys = pathArr.length > 2 ? [pathArr.slice(0, 3).join('/')] : [`${this.props.location.pathname}`];\n\n        return (\n            <Layout>\n                <RadiumStyle scopeSelector={['.statistics']}\n                    rules={{\n                        '#reactApp': {\n                            backgroundColor: '#f0f2f5 !important',\n                        },\n                    }} />\n                <Header style={{ position: 'fixed', zIndex: 1, width: '100%', height: 'auto' }}>\n                    <Menu\n                        theme='dark'\n                        mode='horizontal'\n                        selectedKeys={selectedKeys}\n                        style={{ lineHeight: '64px' }}\n                        onClick={(item) => {\n                            this.props.history.push(item.key.replace('.$', ''));\n                        }}\n                    >\n                        {this.makeMenuItem(Nav[0].children, '/statistics')}\n                    </Menu>\n                </Header>\n                <Content id='fixSelect' style={{ padding: '0 50px', marginTop: 64 }}>\n                    <div style={{\n                        minHeight: 380,\n                        marginTop: '16px',\n                        background: '#fff',\n                        overflow: 'auto',\n                    }}>\n                        {routes}\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center' }}>\n                </Footer>\n            </Layout>\n        );\n    }\n\n    private makeMenuItem = (menuList: NavProps[], parentUrl?: string) => {\n        return menuList.map((r: NavProps, i: number) => {\n            const url = `${parentUrl || ''}/${r.url}`;\n            const title = r.title;\n\n            if (r.children && r.children.length > 0) {\n                return (\n                    <Menu.SubMenu\n                        key={url}\n                        title={<span>{title}</span>}\n                    >\n                        {this.makeMenuItem(r.children, url)}\n                    </Menu.SubMenu>\n                );\n            }\n\n            return (\n                <Menu.Item key={url}>\n                    <span>{title}</span>\n                </Menu.Item>\n            );\n        });\n    }\n\n}\n\nexport const LayoutBase = withRouter(withAppState(LayoutBaseView));\n","import C from 'antd/lib/layout';\nimport 'antd/lib/layout/style/css';\nimport 'common/antd/default-style.css';\nexport const Layout: typeof C = require('antd/lib/layout');\n","import C from 'antd/lib/menu';\nimport 'antd/lib/menu/style/css';\nimport 'common/antd/default-style.css';\nexport const Menu: typeof C = require('antd/lib/menu').default;\n","import { Radium } from 'common/radium';\nimport * as React from 'react';\n\n/**\n * scopeSelector 格式必须 site 开头  例如：[`${site}`, `${site}.${app}`, `${site}.${app}.xxx`]\n */\ninterface Props {\n    rules: React.CSSProperties | any;\n    scopeSelector: string[];\n}\n\nconst Style: any = Radium.Style;\n\n@Radium\nexport class RadiumStyle extends React.Component<Props, {}> {\n    render() {\n        return (\n            <div>\n                {\n                    this.props.scopeSelector ?\n                        this.props.scopeSelector.length === 0 ?\n                            <Style rules={this.props.rules} />\n                            :\n                            (this.props.scopeSelector || []).map((r, i) => {\n                                return <Style key={i} scopeSelector={r} rules={this.props.rules} />;\n                            }) : null\n                }\n                {this.props.children}\n            </div>\n        );\n    }\n}\n","import * as radium from 'radium';\nexport const Radium = radium.default;\n","export interface NavProps {\n    title: string;\n    url: string;\n    children?: NavProps[];\n}\n\nexport const Nav: NavProps[] = [\n    {\n        title: '基础数据',\n        url: 'statistics',\n        children: [\n            {\n                title: '服务器集群',\n                url: 'server',\n            },\n        ],\n    },\n];\n","\nimport * as React from 'react';\nimport {\n    Redirect,\n    Route,\n} from 'react-router-dom';\nimport { Server } from './statistics/server/index';\n\nexport const routes = (\n    <div>\n        <Route\n            exact\n            path='/'\n            render={() => <Redirect to='/statistics/server' />}\n        />\n        <Route exact path='/statistics/server' component={Server} />\n    </div>\n);\n","import { Radium } from 'common/radium';\nimport * as _ from 'lodash';\nimport * as React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { fabric } from 'fabric';\nimport { IRectOptions, Point, IPathOptions, TextOptions } from 'fabric/fabric-impl';\n\n@Radium\nclass ServerView extends React.Component<RouteComponentProps<any>, {}> {\n    private PROPORTION = { width: 1, height: 1 };\n    private canvas: fabric.Canvas;\n    private lastPos: { x: number, y: number } = { x: 0, y: 0 };\n    private drag: boolean = false;\n\n    private sourceData: any[][] = [\n        [\n            {\n                id: 1,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n            {\n                id: 2,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n            {\n                id: 3,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n        ],\n        [\n            {\n                id: 4,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n            {\n                id: 5,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n            {\n                id: 6,\n                subData: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n            },\n        ],\n    ];\n\n    private clusterGroups: Array<Array<fabric.Group>> = [];\n    private openCluster: any[] = [];\n\n    /**\n     * 获取文档的大小\n     */\n    get clientRect() {\n        const width = document.documentElement.clientWidth\n        const height = document.documentElement.clientHeight\n        return {\n            width,\n            height\n        }\n    }\n\n    constructor(props: any) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.canvas = new fabric.Canvas('an', {\n            backgroundColor: '#eee',\n            // 禁用组选择\n            selection: false,\n        });\n        window.addEventListener('resize', this.handleWindowResize);\n        this.handleWindowResize();\n        this.drawClusterGroup();\n        this.subscriptionEvent();\n        // this.linkRect();\n    }\n\n    /** 链接关系 */\n    private linkRect() {\n        const pathString: {\n            fromX: number;\n            fromY: number;\n            toX: number;\n            toY: number;\n            theta: number;\n            headlen: number;\n        } = {\n            fromX: this.clusterGroups[0][0].left + this.clusterGroups[0][0].width,\n            fromY: this.clusterGroups[0][0].top + this.clusterGroups[0][0].height / 2,\n            toX: this.clusterGroups[1][0].left,\n            toY: this.clusterGroups[1][0].top + this.clusterGroups[1][0].height / 2,\n            theta: 10,\n            headlen: 10,\n        };\n\n        const arrows = this.drawArrows(pathString);\n        const arrows2 = this.drawArrows(Object.assign({}, pathString, {\n            fromX: pathString.toX,\n            fromY: pathString.toY,\n            toX: pathString.fromX,\n            toY: pathString.fromY,\n        }));\n\n        const path = this.drawPath(\n            `${arrows} \n            M ${pathString.fromX} ${pathString.fromY} \n            L ${pathString.toX} ${pathString.toY} \n             ${arrows2}`,\n            {\n                stroke: '#000',\n                strokeWidth: 1,\n            }\n        );\n\n        this.canvas.add(path);\n    }\n\n    /**\n     * canvas 事件监听\n     */\n    private subscriptionEvent() {\n        this.canvas.on({\n            'mouse:dblclick': (e: fabric.IEvent | any) => {\n                if (e.target && e.target['drawObj']) {\n                    this.showHide(e.target);\n                }\n            },\n            'mouse:down': (e: fabric.IEvent | any) => {\n                this.lastPos = {\n                    x: e.e.clientX,\n                    y: e.e.clientY\n                };\n                if (!e.target) {\n                    this.drag = true;\n                }\n            },\n            'mouse:up': (e: fabric.IEvent | any) => {\n                this.drag = false;\n                this.deActiveObject();\n                if (e.target && e.target['drawObj']) {\n                    e.target['drawObj']['cluster'].set({\n                        stroke: 'rgba(255, 255, 0, .4)',\n                    });\n                    this.canvas.renderAll();\n                }\n            },\n            'mouse:move': (e: fabric.IEvent | any) => {\n                if (this.drag) {\n                    const vpt = this.canvas.viewportTransform;\n\n                    this.canvas.setViewportTransform([\n                        ...vpt.slice(0, 4),\n                        vpt[4] + e.e.clientX - this.lastPos.x,\n                        vpt[5] + e.e.clientY - this.lastPos.y,\n                    ]);\n                    this.lastPos.x = e.e.clientX;\n                    this.lastPos.y = e.e.clientY;\n                }\n            },\n        });\n    }\n\n    /** 渲染顶级框 */\n    private drawClusterGroup() {\n        const offset = {\n            left: 100,\n            top: 50,\n        };\n\n        this.clusterGroups = this.sourceData.map((r, i) => {\n            offset.top = offset.top + i * 150;\n            return this.drawCluster(r, offset);\n\n        });\n    }\n\n    /** 渲染集群 */\n    private drawCluster(sourceGroup: any[], offset: { left: number; top: number }) {\n        const options: IRectOptions = {\n            top: offset.top,\n            left: offset.left,\n        };\n\n        return sourceGroup.map((r, i) => {\n            const box = {\n                initWidth: 100,\n                initHeight: 100,\n                openWidth: 300,\n                openHeight: 300,\n            };\n\n            const open = _.findIndex(this.openCluster, oc => oc.id === r.id) !== -1;\n            options.width = open ? box.openWidth : box.initWidth;\n            options.height = open ? box.openHeight : box.initHeight;\n\n            const cluster: fabric.Rect = this.drawRect({\n                ...options,\n                rx: 10,\n                ry: 10,\n            });\n            const { titleBox, lineBox, totalBox } = this.computeBox(options);\n\n            const title = this.drawText(\n                '集群',\n                {\n                    ...titleBox,\n                    originX: 'center',\n                    originY: 'center',\n                    visible: !open,\n                },\n            );\n\n            const line = this.drawPath(\n                lineBox,\n                {\n                    fill: 'transparent',\n                    stroke: '#999',\n                    visible: !open,\n                },\n            );\n\n            const total = this.drawText(\n                `${r.id}`,\n                {\n                    ...totalBox,\n                    originX: 'center',\n                    originY: 'center',\n                    visible: !open,\n                },\n            );\n\n            const subsGroup = this.drawSubsRect(r.subData, options, open);\n            const clusterGroup = new fabric.Group([cluster, title, line, total, subsGroup], {\n                // 禁止四点定位\n                hasControls: false,\n            });\n\n            clusterGroup.borderColor = 'transparent';\n\n            clusterGroup['open'] = open;\n            clusterGroup['box'] = box;\n            clusterGroup['drawObj'] = { cluster, title, line, total, subsGroup };\n            clusterGroup['sourceData'] = r;\n\n            this.canvas.add(clusterGroup);\n\n            options.left = options.left + options.width + 30;\n\n            return clusterGroup;\n        });\n    }\n\n    /** 计算集群 Box */\n    private computeBox = (options: IRectOptions) => {\n        return {\n            titleBox: {\n                left: options.left + options.width / 2,\n                top: options.top + options.height / 2 - 15,\n            },\n            lineBox: `M ${options.left + 10} ${options.top + options.height / 2} L ${options.left + options.width - 10} ${options.top + options.height / 2}`,\n            totalBox: {\n                left: options.left + options.width / 2,\n                top: options.top + 15 + options.height / 2,\n            },\n        };\n    }\n\n    /** 渲染子集 */\n    private drawSubsRect(data: any[], options: IRectOptions, open: boolean) {\n        const subs = data.map((r: any, i: number) => {\n            let top = options.top + 8 + Math.floor(i / 9) * 50;\n            let left = options.left + 8 + i % 9 * 30;\n            const rect: fabric.Rect = this.drawRect({\n                left,\n                top,\n                width: 20,\n                height: 20,\n            });\n\n            const text = this.drawText(\n                `${r}`,\n                {\n                    left,\n                    top,\n                },\n            );\n\n            const group: any = new fabric.Group([rect, text]);\n            group['text'] = text;\n            group['sourceData'] = r;\n\n            return group;\n        });\n        const subsgroup = new fabric.Group([...subs], {\n            visible: open,\n        });\n        subsgroup['subs'] = subs;\n\n        return subsgroup;\n    }\n\n    render() {\n        return (\n            <div>\n                <canvas id='an'></canvas>\n            </div>\n        );\n    }\n\n    /** 箭头 */\n    private drawArrows = (obj: {\n        fromX: number, fromY: number, toX: number, toY: number, theta: number, headlen: number\n    }): string => {\n        const { fromX, fromY, toX, toY, theta, headlen } = obj;\n\n        let angle = Math.atan2(fromY - toY, fromX - toX) * 180 / Math.PI;\n        let angle1 = (angle + theta) * Math.PI / 180;\n        let angle2 = (angle - theta) * Math.PI / 180;\n        let topX = headlen * Math.cos(angle1);\n        let topY = headlen * Math.sin(angle1);\n        let botX = headlen * Math.cos(angle2);\n        let botY = headlen * Math.sin(angle2);\n\n        let path = `\n            M ${toX + topX} ${toY + topY} \n            L ${toX} ${toY} \n            L ${toX + botX} ${toY + botY}\n        `;\n\n        return path;\n    }\n\n    /**\n     * 取消高亮对象\n     */\n    private deActiveObject() {\n        this.clusterGroups.forEach((cluster, i) => {\n            cluster.forEach((obj) => {\n                obj['drawObj']['cluster'].set({\n                    stroke: '#999',\n                });\n            });\n        });\n        this.canvas.renderAll();\n    }\n\n    // 对象显示隐藏\n    private showHide = (obj: any) => {\n        if (!obj.open) {\n            this.openCluster.push(obj.sourceData);\n        } else {\n            _.remove(this.openCluster, (c) => c.id === obj.sourceData.id);\n        }\n\n        this.canvas.remove(...this.canvas.getObjects());\n        this.drawClusterGroup();\n\n        // const { cluster, title, line, total, subsGroup } = obj.drawObj;\n\n        // const box = {\n        //     width: obj.open ? obj.box.initWidth : obj.box.openWidth,\n        //     height: obj.open ? obj.box.initHeight : obj.box.openHeight,\n        // };\n\n        // 集群\n        // cluster.set(box);\n\n        // const { titleBox, lineBox, totalBox } = this.computeBox({\n        //     ...box,\n        //     left: cluster.left,\n        //     top: cluster.top,\n        // });\n\n        // // 集群标题\n        // title.set({\n        //     ...titleBox,\n        //     visible: !title.visible\n        // });\n        // // 中界线\n        // line.set({\n        //     // ...lineBox,\n        //     path: lineBox,\n        //     visible: !line.visible\n        // });\n        // // 服务器数量\n        // total.set({\n        //     ...totalBox,\n        //     visible: !total.visible\n        // });\n\n        // // 服务器\n        // subsGroup.visible = !subsGroup.visible;\n\n        // // 修正四点定位\n        // obj.setCoords();\n        // this.canvas.renderAll();\n    }\n\n    /**\n     * 处理window `resize`事件\n     * @param factor draw 画布大小计算缩放比例\n     */\n    private handleWindowResize = (e?: Event, factor = this.PROPORTION) => {\n        const { width, height } = this.getCanvasSize(factor);\n        this.canvas.setDimensions({\n            width,\n            height\n        });\n    }\n\n    /**\n     * 获取画布大小\n     * @param factor draw 画布大小计算缩放比例\n     */\n    private getCanvasSize = (factor = this.PROPORTION) => {\n        const { width, height } = this.clientRect;\n\n        return {\n            width: (width - 188) * factor.width,\n            height: (height - 60 * 2) * factor.height\n        }\n    }\n\n    // 画四方形\n    private drawRect(option: IRectOptions = {}): fabric.Rect {\n        var rect: fabric.Rect = new fabric.Rect(Object.assign(\n            {},\n            {\n                // 填充色\n                fill: '#fff',\n                // 边框\n                strokeWidth: 1,\n                stroke: \"#999\",\n                // 圆角\n                // rx: 10,\n                // ry: 10,\n                // 旋转\n                // angle: 45,\n                // 禁止四点定位\n                hasControls: false,\n                // 禁止选中\n                selectable: false,\n            },\n            option,\n        ));\n\n        return rect;\n    }\n\n    // 画连接线\n    private drawPath(path: string | Point[] = '', option: IPathOptions = {}): fabric.Path {\n        var line: fabric.Path = new fabric.Path(\n            path || 'M 65 0 Q 100, 100, 200, 0',\n            Object.assign(\n                {},\n                {\n                    // 边框\n                    stroke: 'black',\n                    // 禁止四点定位\n                    hasControls: false,\n                    // 禁止选中\n                    selectable: false,\n                    // 鼠标样式\n                },\n                option\n            )\n        );\n\n        return line;\n    }\n\n    // 画文案\n    private drawText(str: string, option: TextOptions = {}): fabric.Text {\n        var text: fabric.Text = new fabric.Text(str, Object.assign(\n            {},\n            {\n                // 字体对其方式\n                // originX: 'left',\n                // originY: 'top',\n                // 字体描边\n                stroke: '#000',\n                // 字体大小\n                fontSize: 12,\n                // 填充色\n                fill: 'transparent',\n                // 禁止四点定位\n                hasControls: false,\n                // 禁止选中\n                selectable: false,\n            },\n            option\n        ));\n\n        return text;\n    }\n}\n\nexport const Server = withRouter(ServerView);\n"]}